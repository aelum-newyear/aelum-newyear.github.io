<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–û–±—Ä–∞—Ç–Ω—ã–π –æ—Ç—Å—á–µ—Ç –¥–æ –ù–æ–≤–æ–≥–æ –ì–æ–¥–∞ | Aelum Haus</title>

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Dancing+Script:wght@700&family=Roboto:wght@300;400;700&display=swap"
    rel="stylesheet"
  />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Roboto', sans-serif;
      background: linear-gradient(135deg, #0a0e29 0%, #1a1f4b 50%, #0a0e29 100%);
      color: #fff;
      min-height: 100vh;
      overflow-x: hidden;
      position: relative;
    }

    /* –°–Ω–µ–≥ (—Ñ–∏–∑–∏–∫–∞ –Ω–∞ canvas) */
    #snowCanvas {
      position: fixed;
      inset: 0;
      width: 100%;
      height: 100%;
      z-index: 1;              /* —Å–Ω–µ–≥ –ø–æ–¥ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º */
      pointer-events: none;
      opacity: 0;
      animation: snowFadeIn 900ms ease-out forwards;
    }
    @keyframes snowFadeIn { to { opacity: 1; } }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      position: relative;
      z-index: 2;
    }

    header {
      text-align: center;
      padding: 30px 0;
      animation: fadeUp 900ms cubic-bezier(.2,.9,.2,1) both;
    }

    .logo {
      font-family: 'Playfair Display', serif;
      font-size: 2.8rem;
      color: #fff;
      margin-bottom: 10px;
      text-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
    }

    .logo span { color: #4cc9f0; }

    .subtitle {
      font-size: 1.2rem;
      color: #a5d8ff;
      letter-spacing: 2px;
      margin-bottom: 40px;
    }

    .main-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .countdown-container {
      background: rgba(10, 14, 41, 0.7);
      border-radius: 20px;
      padding: 40px;
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
      border: 1px solid rgba(255, 255, 255, 0.1);
      width: 100%;
      max-width: 900px;
      margin-bottom: 50px;
      backdrop-filter: blur(10px);
      animation: fadeUp 1100ms cubic-bezier(.2,.9,.2,1) both;
      animation-delay: 80ms;
      position: relative;
    }

    .countdown-title {
      font-family: 'Playfair Display', serif;
      font-size: 2.2rem;
      text-align: center;
      margin-bottom: 30px;
      color: #fff;
    }

    .countdown {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 20px;
      margin-bottom: 30px;
    }

    .countdown-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      background: linear-gradient(145deg, #1a1f4b, #0f1438);
      border-radius: 15px;
      padding: 25px 15px;
      min-width: 150px;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(76, 201, 240, 0.3);
      transition: transform 0.3s ease;
      will-change: transform;
    }

    .countdown-item:hover { transform: translateY(-10px) scale(1.02); }

    .countdown-value {
      font-size: 3.5rem;
      font-weight: 700;
      color: #4cc9f0;
      text-shadow: 0 0 10px rgba(76, 201, 240, 0.5);
      line-height: 1;
    }

    .countdown-label {
      font-size: 1.1rem;
      color: #a5d8ff;
      margin-top: 10px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .timezone {
      text-align: center;
      font-size: 1.1rem;
      color: #a5d8ff;
      padding: 15px;
      background: rgba(26, 31, 75, 0.5);
      border-radius: 10px;
      margin-top: 20px;
    }

    .timezone i { color: #4cc9f0; margin-right: 8px; }

    .greeting-container {
      display: none;
      background: rgba(10, 14, 41, 0.9);
      border-radius: 20px;
      padding: 40px;
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.7);
      border: 1px solid rgba(255, 255, 255, 0.2);
      width: 100%;
      max-width: 900px;
      backdrop-filter: blur(10px);
      position: relative;
      overflow: hidden;
    }

    .admin-title {
      font-family: 'Dancing Script', cursive;
      font-size: 3.5rem;
      text-align: center;
      color: #ffd700;
      margin-bottom: 50px;
      text-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
      animation: titleAppear 2s ease-out forwards;
      opacity: 0;
    }

    .greeting-message {
      display: none;
      font-size: 1.3rem;
      line-height: 1.8;
      color: #e0e0ff;
      padding: 25px;
      margin: 20px 0;
      border-radius: 15px;
      background: rgba(26, 31, 75, 0.5);
      border-left: 5px solid #4cc9f0;
      animation: messageAppear 1.5s ease-out forwards;
      opacity: 0;
      transform: translateY(20px);
    }

    .greeting-author {
      font-family: 'Playfair Display', serif;
      font-size: 2rem;
      color: #ff6b9d;
      margin-bottom: 15px;
      text-align: center;
      text-shadow: 0 0 10px rgba(255, 107, 157, 0.5);
    }

    .kveils-gif {
      display: block;
      margin: 20px auto;
      max-width: 200px;
      border-radius: 10px;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
    }

    .final-message {
      display: none;
      text-align: center;
      margin-top: 40px;
      animation: finalAppear 2s ease-out forwards;
      opacity: 0;
    }

    .final-title {
      font-family: 'Playfair Display', serif;
      font-size: 2.5rem;
      color: #ffd700;
      margin-bottom: 20px;
      text-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
    }

    .final-subtitle {
      font-family: 'Dancing Script', cursive;
      font-size: 3rem;
      color: #4cc9f0;
      text-shadow: 0 0 20px rgba(76, 201, 240, 0.7);
      margin-top: 30px;
    }

    .fireworks {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 3;
      display: none;
    }

    footer {
      text-align: center;
      padding: 40px 0 20px;
      color: #a5d8ff;
      font-size: 0.9rem;
    }

    .social-icons {
      display: flex;
      justify-content: center;
      gap: 14px;
      margin-top: 20px;
      flex-wrap: wrap;
    }

    .social-icons a {
      color: #a5d8ff;
      font-size: 1.35rem;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 44px;
      height: 44px;
      border-radius: 999px;
      background: rgba(26, 31, 75, 0.35);
      border: 1px solid rgba(76, 201, 240, 0.22);
      box-shadow: 0 10px 22px rgba(0,0,0,0.25);
      transition: transform 0.2s ease, color 0.2s ease, border-color 0.2s ease, background 0.2s ease;
      text-decoration: none;
    }

    .social-icons a:hover {
      color: #4cc9f0;
      transform: translateY(-3px);
      background: rgba(26, 31, 75, 0.55);
      border-color: rgba(76, 201, 240, 0.5);
    }

    /* –ù–µ–∂–Ω–æ–µ —Å–≤–µ—á–µ–Ω–∏–µ */
    .countdown-container::before, .greeting-container::before {
      content: "";
      position: absolute;
      inset: -2px;
      border-radius: 22px;
      background:
        radial-gradient(circle at 20% 10%, rgba(76,201,240,0.22), transparent 40%),
        radial-gradient(circle at 80% 90%, rgba(255,215,0,0.14), transparent 45%);
      filter: blur(18px);
      opacity: 0.7;
      z-index: -1;
      animation: glowDrift 6s ease-in-out infinite;
    }

    /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
    @keyframes titleAppear {
      0% { opacity: 0; transform: translateY(-50px); }
      100% { opacity: 1; transform: translateY(0); }
    }

    @keyframes messageAppear {
      0% { opacity: 0; transform: translateY(30px); }
      100% { opacity: 1; transform: translateY(0); }
    }

    @keyframes finalAppear {
      0% { opacity: 0; transform: scale(0.8); }
      100% { opacity: 1; transform: scale(1); }
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }

    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(18px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes glowDrift {
      0%, 100% { transform: translateY(0); opacity: 0.65; }
      50% { transform: translateY(-8px); opacity: 0.85; }
    }

    @media (max-width: 768px) {
      .countdown-item { min-width: 120px; padding: 20px 10px; }
      .countdown-value { font-size: 2.5rem; }
      .countdown-label { font-size: 0.9rem; }
      .logo { font-size: 2.2rem; }
      .countdown-title { font-size: 1.8rem; }
      .countdown-container { padding: 30px 20px; }
      .admin-title { font-size: 2.5rem; }
      .greeting-author { font-size: 1.6rem; }
      .greeting-message { font-size: 1.1rem; padding: 15px; }
      .final-title { font-size: 2rem; }
      .final-subtitle { font-size: 2.2rem; }
    }

    @media (max-width: 576px) {
      .countdown-item { min-width: 80px; padding: 15px 5px; }
      .countdown-value { font-size: 2rem; }
      .countdown-label { font-size: 0.8rem; }
      .logo { font-size: 1.8rem; }
      .countdown { gap: 10px; }
      .admin-title { font-size: 2rem; }
    }

    @media (prefers-reduced-motion: reduce) {
      #snowCanvas { animation: none; opacity: 1; }
      header, .countdown-container { animation: none; }
      .countdown-container::before, .greeting-container::before { animation: none; }
    }
  </style>
</head>

<body>
  <!-- –°–Ω–µ–≥ -->
  <canvas id="snowCanvas" aria-hidden="true"></canvas>

  <!-- –§–µ–π–µ—Ä–≤–µ—Ä–∫ -->
  <div class="fireworks" id="fireworks"></div>

  <div class="container">
    <header>
      <h1 class="logo">Aelum <span>Haus</span></h1>
      <div class="subtitle">–û–±—Ä–∞—Ç–Ω—ã–π –æ—Ç—Å—á–µ—Ç –¥–æ –ù–æ–≤–æ–≥–æ –ì–æ–¥–∞ 2025</div>
    </header>

    <main class="main-content">
      <div class="countdown-container">
        <h2 class="countdown-title">–î–æ –ù–æ–≤–æ–≥–æ –ì–æ–¥–∞ –æ—Å—Ç–∞–ª–æ—Å—å:</h2>

        <div class="countdown">
          <div class="countdown-item">
            <div class="countdown-value" id="days">00</div>
            <div class="countdown-label">–î–Ω–µ–π</div>
          </div>

          <div class="countdown-item">
            <div class="countdown-value" id="hours">00</div>
            <div class="countdown-label">–ß–∞—Å–æ–≤</div>
          </div>

          <div class="countdown-item">
            <div class="countdown-value" id="minutes">00</div>
            <div class="countdown-label">–ú–∏–Ω—É—Ç</div>
          </div>

          <div class="countdown-item">
            <div class="countdown-value" id="seconds">00</div>
            <div class="countdown-label">–°–µ–∫—É–Ω–¥</div>
          </div>
        </div>

        <div class="timezone">
          <i class="fas fa-clock"></i> –ú–æ—Å–∫–æ–≤—Å–∫–æ–µ –≤—Ä–µ–º—è (MSK)
        </div>
      </div>

      <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–π -->
      <div class="greeting-container" id="greetingContainer">
        <h2 class="admin-title" id="adminTitle">–ü–æ–∑–¥—Ä–∞–≤–ª—è—é—Ç –∞–¥–º–∏–Ω—ã —á–∞—Ç–∞ Aelum!</h2>

        <div class="greeting-message" id="message1">
          <div class="greeting-author">—èscha</div>
          <p>–Ω–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç–∞.</p>
        </div>

        <div class="greeting-message" id="message2">
          <div class="greeting-author">–ö–≤–µ–∏–ª—Å</div>
          <p>
            –õ—é–±–∏–º—ã–µ –º–æ–∏, —Å –ù–æ–≤—ã–º –≥–æ–¥–æ–º! –ü—É—Å—Ç—å —ç—Ç–æ—Ç –≥–æ–¥ –±—É–¥–µ—Ç –¥–ª—è –≤–∞—Å –≥–æ–¥–æ–º –Ω–æ–≤—ã—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π, —è—Ä–∫–∏—Ö –º–æ–º–µ–Ω—Ç–æ–≤ –∏ –Ω–µ–∑–∞–±—ã–≤–∞–µ–º—ã—Ö
            –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–π. –ü—É—Å—Ç—å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –ø—Ä–∏–Ω–æ—Å–∏—Ç –≤–∞–º —Ä–∞–¥–æ—Å—Ç—å –∏ —É–ª—ã–±–∫–∏, –∞ –≤ –≤–∞—à–µ–º –¥–æ–º–µ —Ü–∞—Ä—è—Ç –º–∏—Ä –∏ –≥–∞—Ä–º–æ–Ω–∏—è. –ñ–µ–ª–∞—é –≤–∞–º
            –∫—Ä–µ–ø–∫–æ–≥–æ –∑–¥–æ—Ä–æ–≤—å—è, –±–ª–∞–≥–æ–ø–æ–ª—É—á–∏—è –∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–≤–µ—Ç–Ω—ã—Ö –∂–µ–ª–∞–Ω–∏–π. –ü—É—Å—Ç—å –≤–∞—à–∞ –∂–∏–∑–Ω—å –±—É–¥–µ—Ç –Ω–∞–ø–æ–ª–Ω–µ–Ω–∞ –ª—é–±–æ–≤—å—é,
            —Å—á–∞—Å—Ç—å–µ–º –∏ —Ç–µ–ø–ª–æ–º –±–ª–∏–∑–∫–∏—Ö –ª—é–¥–µ–π. –° –ù–æ–≤—ã–º –≥–æ–¥–æ–º, –¥–æ—Ä–æ–≥–∏–µ –º–æ–∏! –¥–∞–¥–∞–¥–∞–¥–∞–¥, —ç—Ç–æ —è –ø–∏—Å–∞–ª–∞ –µ—Å–ª–∏ —á—Ç–æ.
          </p>
          <img src="love.gif" alt="–õ—é–±–æ–≤—å –æ—Ç –ö–≤–µ–∏–ª—Å" class="kveils-gif" id="kveilsGif" />
        </div>

        <div class="greeting-message" id="message3">
          <div class="greeting-author">–¢–∞–±—É—Ä–µ—Ç–∫–∞ –Ω—è—à–∫</div>
          <p>
            –í—Å–µ–º –ø—Ä–∏–≤–µ—Ç, –¥–æ—Ä–æ–≥–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏ Aelum Haus! –•–æ—á—É –ø–æ–∂–µ–ª–∞—Ç—å –≤–∞–º —Å—á–∞—Å—Ç—å—è, –∫—Ä–µ–ø–∫–æ–≥–æ –∑–¥–æ—Ä–æ–≤—å—è, –º–µ–Ω—å—à–µ –Ω–∞—Ä—É—à–∞—Ç—å –Ω–∞—à–∏
            –ø—Ä–∞–≤–∏–ª–∞, —á–∞—â–µ –≤–∏–¥–µ—Ç—å—Å—è —Å —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞–º–∏ –∏, –∫–æ–Ω–µ—á–Ω–æ, —Å–ª—É—à–∞—Ç—å—Å—è —Å–≤–æ–∏—Ö —Ä–æ–¥–∏—Ç–µ–ª–µ–π! –≠—Ç–æ—Ç –≥–æ–¥ –±—ã–ª —Ö–æ—Ä–æ—à–∏–º, –Ω–æ,
            –Ω–∞–¥–µ—é—Å—å, 2026 –±—É–¥–µ—Ç –µ—â—ë –ª—É—á—à–µ!
          </p>
        </div>

        <div class="greeting-message" id="message4">
          <div class="greeting-author">–ù–æ–≤–æ–≥–æ–¥–Ω—è—è –ø–∏–∑–¥–∞ (—à–ª–µ—Ö—Ç)</div>
          <p>–ñ–µ–ª–∞—é –≤—Å–µ–º –≤ –Ω–æ–≤–æ–º –≥–æ–¥—É –æ—Ç–ª–∏–∑–∞–Ω–Ω—ã—Ö –ø—É—Å—Å–∏, –æ—Ç—Å–æ—Å–∞–Ω–Ω—ã—Ö —á–ª–µ–Ω–æ–≤ –∏ –ø–æ–±–æ–ª—å—à–µ –¥–µ–Ω–µ–≥ –≤ —Ç—Ä—É—Å–∏–∫–∞—Ö.</p>
        </div>

        <div class="greeting-message" id="message5">
          <div class="greeting-author">–ñ–µ–Ω—è</div>
          <p>–° –Ω–æ–≤—ã–º –≥–æ–¥–æ–º, —Ö–æ—Ç—å —ç—Ç–æ –ø–æ–∑–Ω–∞–∫–æ–º–∏–ª–∏—Å—å –º—ã –≤ –∏–Ω–µ—Ç –∏–≥—Ä–µ –≤—Å–µ –∂–µ –∫—Ä—É—Ç–æ —á—Ç–æ –≤—Å–µ —Ç–∞–∫ –ø–æ–ª—É—á–∏–ª–æ—Å—å, –∂–µ–ª–∞—é –±–æ–ª—å—à–µ –±–∞–±–ª–∞ –∏ —Ç–µ–ª–æ–∫ü´¶</p>
        </div>

        <div class="final-message" id="finalMessage">
          <div class="final-title">–≠—Ç–æ –Ω–æ–≤—ã–π –≥–æ–¥ –≤ Aelum Haus</div>
          <div class="final-subtitle">–° –ù–û–í–´–ú –ì–û–î–û–ú, –†–ï–ë–Ø–¢–ê!</div>
        </div>
      </div>
    </main>

    <footer>
      <p>–ù–æ–≤—ã–π –≥–æ–¥ –≤ AELUM!</p>
      <p>–°–æ–∑–¥–∞–Ω–æ —Å <i class="fas fa-heart" style="color:#ff4d8d;"></i> –¥–ª—è –Ω–∞—à–µ–≥–æ —Ö–∞—É—Å–∞</p>

      <div class="social-icons">
        <a href="https://t.me/aeluminfo" target="_blank" rel="noopener" aria-label="Telegram">
          <i class="fab fa-telegram"></i>
        </a>
        <a href="https://www.tiktok.com/@aelum.house" target="_blank" rel="noopener" aria-label="TikTok">
          <i class="fab fa-tiktok"></i>
        </a>
      </div>
    </footer>
  </div>

  <script>
    // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–µ–π
    let greetingActive = false;
    let currentStep = 0;

    // ===== Snow Physics (canvas) =====
    let snow = null;

    function clamp(v, a, b) { return Math.max(a, Math.min(b, v)); }

    function startSnowPhysics() {
      const canvas = document.getElementById('snowCanvas');
      const ctx = canvas.getContext('2d', { alpha: true });

      const state = {
        w: 0, h: 0, dpr: 1,
        flakes: [],
        lastT: performance.now(),
        windT: 0,
        wind: 0,
        gust: 0
      };

      function resize() {
        state.dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
        state.w = Math.floor(window.innerWidth);
        state.h = Math.floor(window.innerHeight);

        canvas.width = Math.floor(state.w * state.dpr);
        canvas.height = Math.floor(state.h * state.dpr);
        canvas.style.width = state.w + 'px';
        canvas.style.height = state.h + 'px';

        ctx.setTransform(state.dpr, 0, 0, state.dpr, 0, 0);
      }

      function makeFlake(init = false) {
        const r = Math.random() * 2.6 + 0.8;
        const mass = r * r;

        const x = Math.random() * state.w;
        const y = init ? Math.random() * state.h : -(Math.random() * state.h * 0.2 + 20);

        const vy = 20 + Math.random() * 50 + (r * 8);
        const vx = (Math.random() - 0.5) * 18;

        return {
          x, y, r, mass,
          vx, vy,
          rot: Math.random() * Math.PI * 2,
          vr: (Math.random() - 0.5) * 1.6,
          wobbleT: Math.random() * 1000,
          wobbleAmp: 6 + Math.random() * 18,
          alpha: 0.35 + Math.random() * 0.55
        };
      }

      function seed() {
        state.flakes.length = 0;
        const base = 140; // –ø–ª–æ—Ç–Ω–æ—Å—Ç—å
        const density = clamp((state.w * state.h) / (1280 * 720), 0.7, 1.6);
        const count = Math.floor(base * density);

        for (let i = 0; i < count; i++) state.flakes.push(makeFlake(true));
      }

      function step(t) {
        const dt = clamp((t - state.lastT) / 1000, 0.0, 0.033);
        state.lastT = t;

        // –≤–µ—Ç–µ—Ä: –≤–æ–ª–Ω—ã + –ø–æ—Ä—ã–≤—ã
        state.windT += dt;
        const wave = Math.sin(state.windT * 0.25) * 18 + Math.sin(state.windT * 0.9) * 7;

        if (Math.random() < dt * 0.18) {
          state.gust = (Math.random() - 0.5) * 120;
        }
        state.gust *= Math.pow(0.92, dt * 60);

        state.wind = wave + state.gust;

        ctx.clearRect(0, 0, state.w, state.h);

        ctx.save();
        ctx.globalCompositeOperation = 'lighter';

        for (let i = 0; i < state.flakes.length; i++) {
          const f = state.flakes[i];

          f.wobbleT += dt * (0.8 + f.r * 0.35);
          const wobble = Math.sin(f.wobbleT * 2.2) * f.wobbleAmp;

          const drag = 0.985 - clamp(f.r, 0.8, 3.4) * 0.002;

          const ax = (state.wind * 0.02 + wobble * 0.12) / (1 + f.mass * 0.12);

          f.vx = (f.vx + ax) * Math.pow(drag, dt * 60);
          f.vy = (f.vy) * Math.pow(0.995, dt * 60);

          f.x += f.vx * dt;
          f.y += f.vy * dt;

          f.rot += f.vr * dt;

          if (f.x < -20) f.x = state.w + 20;
          if (f.x > state.w + 20) f.x = -20;

          if (f.y > state.h + 30) {
            state.flakes[i] = makeFlake(false);
            continue;
          }

          ctx.save();
          ctx.translate(f.x, f.y);
          ctx.rotate(f.rot);

          ctx.globalAlpha = f.alpha;
          ctx.fillStyle = 'rgba(255,255,255,0.95)';
          ctx.beginPath();
          ctx.arc(0, 0, f.r, 0, Math.PI * 2);
          ctx.fill();

          ctx.globalAlpha = f.alpha * 0.45;
          ctx.fillStyle = 'rgba(180, 240, 255, 0.9)';
          ctx.beginPath();
          ctx.arc(-f.r * 0.25, -f.r * 0.25, Math.max(0.6, f.r * 0.45), 0, Math.PI * 2);
          ctx.fill();

          ctx.restore();
        }

        ctx.restore();
        requestAnimationFrame(step);
      }

      resize();
      seed();

      window.addEventListener('resize', () => {
        resize();
        seed();
      }, { passive: true });

      requestAnimationFrame(step);

      return { resize, seed };
    }

    // –§–µ–π–µ—Ä–≤–µ—Ä–∫
    function getRandomColor() {
      const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff', '#ff8800', '#ff0088'];
      return colors[Math.floor(Math.random() * colors.length)];
    }

    function createFirework(x, y) {
      const fireworksContainer = document.getElementById('fireworks');

      const firework = document.createElement('div');
      firework.style.position = 'absolute';
      firework.style.left = `${x}px`;
      firework.style.top = `${y}px`;
      firework.style.width = '5px';
      firework.style.height = '5px';
      firework.style.borderRadius = '50%';
      firework.style.backgroundColor = getRandomColor();
      firework.style.boxShadow = `0 0 10px 5px ${getRandomColor()}`;

      fireworksContainer.appendChild(firework);

      const particles = 30;
      for (let i = 0; i < particles; i++) {
        setTimeout(() => {
          const particle = document.createElement('div');
          particle.style.position = 'absolute';
          particle.style.left = `${x}px`;
          particle.style.top = `${y}px`;
          particle.style.width = '3px';
          particle.style.height = '3px';
          particle.style.borderRadius = '50%';
          particle.style.backgroundColor = getRandomColor();

          const angle = Math.random() * Math.PI * 2;
          const velocity = 2 + Math.random() * 3;
          const vx = Math.cos(angle) * velocity;
          let vy = Math.sin(angle) * velocity; // –≤–∞–∂–Ω–æ: let (–µ—Å—Ç—å –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏—è)

          fireworksContainer.appendChild(particle);

          let posX = x;
          let posY = y;
          const gravity = 0.05;

          const animateParticle = () => {
            posX += vx;
            posY += vy;
            vy += gravity;

            particle.style.left = `${posX}px`;
            particle.style.top = `${posY}px`;

            const opacity = parseFloat(particle.style.opacity || 1);
            particle.style.opacity = (opacity - 0.02).toString();

            if (opacity > 0) {
              requestAnimationFrame(animateParticle);
            } else {
              particle.remove();
            }
          };

          animateParticle();
        }, i * 30);
      }

      setTimeout(() => { firework.remove(); }, 1000);
    }

    function startFireworks() {
      const fireworksContainer = document.getElementById('fireworks');
      fireworksContainer.style.display = 'block';

      const interval = setInterval(() => {
        const x = Math.random() * window.innerWidth;
        const y = Math.random() * window.innerHeight * 0.8;
        createFirework(x, y);
      }, 300);

      setTimeout(() => {
        clearInterval(interval);
        setTimeout(() => {
          fireworksContainer.style.display = 'none';
          fireworksContainer.innerHTML = '';
        }, 2000);
      }, 15000);
    }

    // –û–±—Ä–∞—Ç–Ω—ã–π –æ—Ç—Å—á–µ—Ç –¥–æ –ù–æ–≤–æ–≥–æ –ì–æ–¥–∞ (MSK)
    function getMskNow() {
      const now = new Date();
      const mskOffsetMinutes = 3 * 60;       // MSK = UTC+3
      const localOffsetMinutes = now.getTimezoneOffset(); // –º–∏–Ω—É—Ç –¥–æ UTC
      return new Date(now.getTime() + (mskOffsetMinutes + localOffsetMinutes) * 60000);
    }

    function updateCountdown() {
      const mskTime = getMskNow();

      let nextYear = mskTime.getFullYear();

      // –µ—Å–ª–∏ —É–∂–µ 31 –¥–µ–∫–∞–±—Ä—è, —Ü–µ–ª—å ‚Äî 1 —è–Ω–≤–∞—Ä—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –≥–æ–¥–∞
      if (mskTime.getMonth() === 11 && mskTime.getDate() === 31) {
        nextYear += 1;
      } else if (mskTime.getMonth() === 0 && mskTime.getDate() === 1) {
        if (!greetingActive) showNewYearGreetings();
        return;
      }

      // 1 —è–Ω–≤–∞—Ä—è 00:00 MSK -> –ø–µ—Ä–µ–≤–æ–¥–∏–º –≤ UTC ms –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
      // –ë–µ—Ä—ë–º "–ø–æ–ª–Ω–æ—á—å MSK" –∫–∞–∫ "–ø–æ–ª–Ω–æ—á—å UTC" –º–∏–Ω—É—Å 3 —á–∞—Å–∞.
      const newYearUtc = Date.UTC(nextYear, 0, 1, 0, 0, 0) - (3 * 60 * 60 * 1000);
      const diff = newYearUtc - mskTime.getTime();

      if (diff <= 0) {
        if (!greetingActive) showNewYearGreetings();
        return;
      }

      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((diff % (1000 * 60)) / 1000);

      document.getElementById('days').textContent = days.toString().padStart(2, '0');
      document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
      document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
      document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');

      if (diff < 60000) {
        document.getElementById('seconds').style.animation = 'pulse 1s infinite';
      }
    }

    // –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è
    function showNewYearGreetings() {
      greetingActive = true;

      const greetingContainer = document.getElementById('greetingContainer');
      greetingContainer.style.display = 'block';

      document.querySelector('.countdown-container').style.display = 'none';

      document.getElementById('adminTitle').style.display = 'block';

      setTimeout(() => { nextGreetingStep(); }, 2000);

      startFireworks();
    }

    // –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–π
    function nextGreetingStep() {
      currentStep++;

      switch (currentStep) {
        case 1:
          document.getElementById('adminTitle').style.opacity = 1;
          setTimeout(nextGreetingStep, 2500);
          break;

        case 2:
          document.getElementById('message1').style.display = 'block';
          setTimeout(nextGreetingStep, 3000);
          break;

        case 3: {
          document.getElementById('message2').style.display = 'block';

          const gifImg = document.getElementById('kveilsGif');
          gifImg.onerror = function () {
            this.style.display = 'none';
            const errorMsg = document.createElement('div');
            errorMsg.textContent = '[–ì–∏—Ñ–∫–∞ love.gif]';
            errorMsg.style.color = '#ff6b9d';
            errorMsg.style.textAlign = 'center';
            errorMsg.style.margin = '20px 0';
            errorMsg.style.fontStyle = 'italic';
            this.parentNode.insertBefore(errorMsg, this.nextSibling);
          };

          setTimeout(nextGreetingStep, 6000);
          break;
        }

        case 4:
          document.getElementById('message3').style.display = 'block';
          setTimeout(nextGreetingStep, 4000);
          break;

        case 5:
          document.getElementById('message4').style.display = 'block';
          setTimeout(nextGreetingStep, 3500);
          break;

        case 6:
          document.getElementById('message5').style.display = 'block';
          setTimeout(nextGreetingStep, 4000);
          break;

        case 7:
          document.getElementById('finalMessage').style.display = 'block';
          break;
      }
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    document.addEventListener('DOMContentLoaded', () => {
      // –°–Ω–µ–≥ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –∏ —É–∂–µ "–ª–µ—Ç–∏—Ç" –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
      snow = startSnowPhysics();

      updateCountdown();
      setInterval(updateCountdown, 1000);

      const countdownItems = document.querySelectorAll('.countdown-item');
      countdownItems.forEach(item => {
        item.addEventListener('mouseenter', () => {
          item.style.animation = 'pulse 0.5s';
        });
        item.addEventListener('animationend', () => {
          item.style.animation = '';
        });
      });
    });
  </script>
</body>
</html>
